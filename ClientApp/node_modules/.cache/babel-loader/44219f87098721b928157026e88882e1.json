{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riz\\\\source\\\\repos\\\\BookMyMovie_Reactjs\\\\BookMyMovie_Reactjs\\\\ClientApp\\\\src\\\\Components\\\\Category.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Table } from 'react-bootstrap';\nimport { Button, ButtonToolbar } from 'react-bootstrap';\nimport AddDepModal from '../Models/AddCatModal';\nimport EditCatModal from '../Models/EditCatModal';\n\nrequire('dotenv').config();\n\nexport default function Category() {\n  const [cats, setCats] = useState([]);\n  const [addModalShow, setAddModalShow] = useState(false);\n  const [editModalShow, setEditModalShow] = useState(false);\n  const [editModalData, setEditModalData] = useState({\n    catid: '',\n    catname: '',\n    category: '',\n    rating: 0,\n    releasedate: null,\n    summary: ''\n  });\n  const {\n    catid,\n    catname\n  } = editModalData;\n\n  const refreshList = () => {\n    fetch(process.env.REACT_APP_API + 'categories').then(response => response.json()).then(data => {\n      setCats(data);\n    });\n  };\n\n  useEffect(() => {\n    refreshList();\n  }, [cats]);\n\n  const deleteCat = catid => {\n    if (window.confirm('Are you sure?')) {\n      fetch(process.env.REACT_APP_API + 'categories/' + catid, {\n        method: 'DELETE',\n        header: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    }\n  };\n\n  const addModalClose = () => setAddModalShow(false);\n\n  const editModalClose = () => setEditModalShow(false);\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"mt-4\",\n    stripped: \"true\",\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, \"Category Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, \"Category Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, \"Options\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, cats.map(cat => /*#__PURE__*/React.createElement(\"tr\", {\n    key: cat.CategoryId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 33\n    }\n  }, cat.CategoryId), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 33\n    }\n  }, cat.CategoryName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ButtonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"mr-2\",\n    variant: \"info\",\n    onClick: () => {\n      setEditModalShow(true);\n      setEditModalData({\n        catid: cat.CategoryId,\n        catname: cat.CategoryName\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 41\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"mr-2\",\n    variant: \"danger\",\n    onClick: () => deleteCat(cat.CategoryId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 41\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(EditCatModal, {\n    show: editModalShow,\n    onHide: editModalClose,\n    catid: catid,\n    catname: catname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 41\n    }\n  })), ' '))))), /*#__PURE__*/React.createElement(ButtonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: () => setAddModalShow(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Add Department\"), /*#__PURE__*/React.createElement(AddDepModal, {\n    show: addModalShow,\n    onHide: addModalClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/Riz/source/repos/BookMyMovie_Reactjs/BookMyMovie_Reactjs/ClientApp/src/Components/Category.js"],"names":["React","useState","useEffect","Table","Button","ButtonToolbar","AddDepModal","EditCatModal","require","config","Category","cats","setCats","addModalShow","setAddModalShow","editModalShow","setEditModalShow","editModalData","setEditModalData","catid","catname","category","rating","releasedate","summary","refreshList","fetch","process","env","REACT_APP_API","then","response","json","data","deleteCat","window","confirm","method","header","Accept","addModalClose","editModalClose","map","cat","CategoryId","CategoryName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport { Button, ButtonToolbar } from 'react-bootstrap';\r\nimport AddDepModal from '../Models/AddCatModal';\r\nimport EditCatModal from '../Models/EditCatModal';\r\nrequire('dotenv').config();\r\n\r\nexport default function Category() {\r\n    const [cats, setCats] = useState([]);\r\n    const [addModalShow, setAddModalShow] = useState(false);\r\n    const [editModalShow, setEditModalShow] = useState(false);\r\n    const [editModalData, setEditModalData] = useState({\r\n        catid: '',\r\n        catname: '',\r\n        category: '',\r\n        rating: 0,\r\n        releasedate: null,\r\n        summary: '',\r\n    });\r\n    const { catid, catname } = editModalData;\r\n    const refreshList = () => {\r\n        fetch(process.env.REACT_APP_API + 'categories')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setCats(data);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        refreshList();\r\n    }, [cats]);\r\n\r\n    const deleteCat = catid => {\r\n        if (window.confirm('Are you sure?')) {\r\n            fetch(process.env.REACT_APP_API + 'categories/' + catid, {\r\n                method: 'DELETE',\r\n                header: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n        }\r\n    };\r\n\r\n    const addModalClose = () => setAddModalShow(false);\r\n    const editModalClose = () => setEditModalShow(false);\r\n    return (\r\n        <>\r\n            <div>\r\n                <Table className='mt-4' stripped='true' bordered hover size='sm'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Category Id</th>\r\n                            <th>Category Name</th>\r\n                            <th>Options</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {cats.map(cat => (\r\n                            <tr key={cat.CategoryId}>\r\n                                <td>{cat.CategoryId}</td>\r\n                                <td>{cat.CategoryName}</td>\r\n                                <td>\r\n                                    <ButtonToolbar>\r\n                                        <Button\r\n                                            className='mr-2'\r\n                                            variant='info'\r\n                                            onClick={() => {\r\n                                                setEditModalShow(true);\r\n                                                setEditModalData({\r\n                                                    catid: cat.CategoryId,\r\n                                                    catname: cat.CategoryName,\r\n                                                });\r\n                                            }}\r\n                                        >\r\n                                            Edit\r\n                                        </Button>\r\n                                        <Button\r\n                                            className='mr-2'\r\n                                            variant='danger'\r\n                                            onClick={() => deleteCat(cat.CategoryId)}\r\n                                        >\r\n                                            Delete\r\n                                        </Button>\r\n                                        <EditCatModal\r\n                                            show={editModalShow}\r\n                                            onHide={editModalClose}\r\n                                            catid={catid}\r\n                                            catname={catname}\r\n                                        />\r\n                                    </ButtonToolbar>{' '}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </Table>\r\n                <ButtonToolbar>\r\n                    <Button variant='primary' onClick={() => setAddModalShow(true)}>\r\n                        Add Department\r\n                    </Button>\r\n                    <AddDepModal show={addModalShow} onHide={addModalClose}></AddDepModal>\r\n                </ButtonToolbar>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}