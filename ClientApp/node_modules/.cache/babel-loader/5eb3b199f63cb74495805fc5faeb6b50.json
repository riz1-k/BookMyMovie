{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Riz\\\\source\\\\repos\\\\BookMyMovie_Reactjs\\\\BookMyMovie_Reactjs\\\\ClientApp\\\\src\\\\Components\\\\User\\\\Booked.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nimport { IoClose } from 'react-icons/io5';\nimport createHistory from 'history/createBrowserHistory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Booked({\n  setCart\n}) {\n  _s();\n\n  const [book, setBook] = useState([]);\n  const [booked, setBooked] = useState(false);\n  const history = createHistory();\n\n  const checkbook = () => {\n    if (book.length > 0) {\n      setBooked(true);\n    } else {\n      alert('You do not have any bookings');\n      history.go(0);\n    }\n  };\n\n  const refreshList = () => {\n    fetch(process.env.REACT_APP_API + 'booked').then(response => response.json()).then(data => {\n      setBook(data.filter(d => d.UserName === localStorage.getItem('userName:')));\n    });\n  };\n\n  useEffect(() => {\n    refreshList();\n  }, [book]);\n\n  const deleteMov = bookid => {\n    if (window.confirm('Are you sure?')) {\n      fetch(process.env.REACT_APP_API + 'booked/' + bookid, {\n        method: 'DELETE',\n        header: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${(booked ? 'block' : 'hidden', checkbook())}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setCart(false),\n      className: \"flex justify-end h-12  \",\n      children: /*#__PURE__*/_jsxDEV(IoClose, {\n        className: \"text-2xl text-gray-600  cursor-pointer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"w-full \",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          class: \"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600 \",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"MovieName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"Cinema \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"Show Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"Show Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            class: \"px-4 py-3\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        class: \"bg-white\",\n        children: book.map(mov => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"text-gray-700 hover:bg-gray-100  \",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-3 text-ms font-semibold border\",\n            children: mov.BookedId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-3 text-ms font-semibold border\",\n            children: mov.MovieName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-3 text-ms font-semibold border\",\n            children: mov.Cinema\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-3 text-ms font-semibold border\",\n            children: moment(mov.ShowData).format('L')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-3 text-ms font-semibold border\",\n            children: mov.ShowTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-1 py-3 text-sm border\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start mx-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"py-1 text-white text-xl  px-2 bg-red-500 mx-1 rounded-full  \",\n                onClick: () => deleteMov(mov.BookedId),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bx bxs-calendar-x  \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)]\n        }, mov.BookedId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Booked, \"ZfPJ4+dNTHM2jfegANwv29xemGs=\");\n\n_c = Booked;\nexport default Booked;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booked\");","map":{"version":3,"sources":["C:/Users/Riz/source/repos/BookMyMovie_Reactjs/BookMyMovie_Reactjs/ClientApp/src/Components/User/Booked.js"],"names":["React","useEffect","useState","moment","IoClose","createHistory","Booked","setCart","book","setBook","booked","setBooked","history","checkbook","length","alert","go","refreshList","fetch","process","env","REACT_APP_API","then","response","json","data","filter","d","UserName","localStorage","getItem","deleteMov","bookid","window","confirm","method","header","Accept","map","mov","BookedId","MovieName","Cinema","ShowData","format","ShowTime"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport moment from 'moment';\r\nimport { IoClose } from 'react-icons/io5';\r\nimport createHistory from 'history/createBrowserHistory';\r\n\r\nfunction Booked({ setCart }) {\r\n  const [book, setBook] = useState([]);\r\n  const [booked, setBooked] = useState(false);\r\n  const history = createHistory();\r\n\r\n  const checkbook = () => {\r\n    if (book.length > 0) {\r\n      setBooked(true);\r\n    } else {\r\n      alert('You do not have any bookings');\r\n      history.go(0);\r\n    }\r\n  };\r\n\r\n  const refreshList = () => {\r\n    fetch(process.env.REACT_APP_API + 'booked')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setBook(\r\n          data.filter(d => d.UserName === localStorage.getItem('userName:'))\r\n        );\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, [book]);\r\n\r\n  const deleteMov = bookid => {\r\n    if (window.confirm('Are you sure?')) {\r\n      fetch(process.env.REACT_APP_API + 'booked/' + bookid, {\r\n        method: 'DELETE',\r\n        header: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${(booked ? 'block' : 'hidden', checkbook())}`}>\r\n      <div onClick={() => setCart(false)} className='flex justify-end h-12  '>\r\n        <IoClose className='text-2xl text-gray-600  cursor-pointer' />\r\n      </div>\r\n      <table class='w-full '>\r\n        <thead>\r\n          <tr class='text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600 '>\r\n            <th class='px-4 py-3'>Id</th>\r\n            <th class='px-4 py-3'>MovieName</th>\r\n            <th class='px-4 py-3'>Cinema </th>\r\n            <th class='px-4 py-3'>Show Date</th>\r\n            <th class='px-4 py-3'>Show Time</th>\r\n            <th class='px-4 py-3'>Cancel</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class='bg-white'>\r\n          {book.map(mov => (\r\n            <tr\r\n              className='text-gray-700 hover:bg-gray-100  '\r\n              key={mov.BookedId}\r\n            >\r\n              <td className='px-4 py-3 text-ms font-semibold border'>\r\n                {mov.BookedId}\r\n              </td>\r\n              <td className='px-4 py-3 text-ms font-semibold border'>\r\n                {mov.MovieName}\r\n              </td>\r\n              <td className='px-4 py-3 text-ms font-semibold border'>\r\n                {mov.Cinema}\r\n              </td>\r\n              <td className='px-4 py-3 text-ms font-semibold border'>\r\n                {moment(mov.ShowData).format('L')}\r\n              </td>\r\n              <td className='px-4 py-3 text-ms font-semibold border'>\r\n                {mov.ShowTime}\r\n              </td>\r\n              <td className='px-1 py-3 text-sm border'>\r\n                <div className='flex justify-start mx-2'>\r\n                  <button\r\n                    className='py-1 text-white text-xl  px-2 bg-red-500 mx-1 rounded-full  '\r\n                    onClick={() => deleteMov(mov.BookedId)}\r\n                  >\r\n                    <i className='bx bxs-calendar-x  '></i>\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Booked;\r\n"]},"metadata":{},"sourceType":"module"}